// Place all the behaviors and hooks related to the matching controller here.
// All this logic will automatically be available in application.js.
(function() {

    $(function() {
        $("#appstats-date-showhide").click(function() {
            $("#appstats-date-filter").toggle();
        });
    });

})();

$(document).on("turbolinks:load", function() {
	var dateFormat = "mm/dd/yy",
	  from = $( "#from" )
	    .datepicker({
	      defaultDate: "+1w",
	      changeMonth: true,
	      numberOfMonths: 3
	    })
	    .on( "change", function() {
	      to.datepicker( "option", "minDate", getDate( this ) );
	    }),
	  to = $( "#to" ).datepicker({
	    defaultDate: "+1w",
	    changeMonth: true,
	    numberOfMonths: 3
	  })
	  .on( "change", function() {
	    from.datepicker( "option", "maxDate", getDate( this ) );
	  });

	function getDate( element ) {
	  var date;
	  try {
	    date = $.datepicker.parseDate( dateFormat, element.value );
	  } catch( error ) {
	    date = null;
	  }

	  return date;
	}
});

function printDate() {
	var from = $( "#from" ).datepicker( "getDate" );
	var to = $( "#to" ).datepicker( "getDate" );
	var range = [from, to];
	console.log(range);
}